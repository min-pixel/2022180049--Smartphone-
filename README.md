# 2022180049 -Smartphone-
1차 발표 : https://youtu.be/tXJAH6NHdLA
## 게임의 간단한 소개

- **게임 제목:**  
  몰려온다!

- **High Concept:**  
  몰려오는 적들을 피하고 죽이며 성장해서 생존하는 뱀파이어 서바이벌류 게임

- **핵심 메카닉:**  
  - 화면을 드래그하여 캐릭터를 이동하며 적을 회피  
  - 일정 시간마다 자동으로 공격(스킬) 발동  
  - 적 처치 시 경험치를 얻고, 일정량 이상이면 레벨업  
  - 레벨업 시 새로운 스킬을 선택하거나 기존 스킬을 강화  
  - 시간이 지날수록 더 많은 적이 등장  
  - 적의 종류에 따라 이동 속도가 다르게 설계  

---

## 개발 범위

- 터치 드래그 기반 캐릭터 이동 구현  
- 자동 공격 시스템 구현 (일정 간격으로 발동)  
- 적 처치 시 경험치 획득 및 **레벨업 시스템** 구현  
- 레벨업 시 **무작위 업그레이드 3개 중 1개 선택** 기능 구현  
- 업그레이드 종류:  
  - **신규 공격 추가**: 총 **3종류**  
  - **스탯 강화**: 총 **5종류 × 각 3단계 = 15종**  
    - 이동 속도, 공격력, 공격 속도, 체력, 방어력  
- **스탯 확인 UI** 구현  
- **경험치 UI / 체력 UI / 타이머 UI** 등 기본 HUD 구현  
- **보스 몬스터 1종** 구현 (높은 체력, 특별 공격, 특정 시간 등장)  
- **3종류 이상의 일반 적** 구현 (속도, 체력 등 특성 차별화)  
- 시간이 지날수록 적이 많아지는 시스템 구현  
- 최대 생존 시간은 **10분 제한 구조**  

---

## 예상 게임 실행 흐름

![image](https://github.com/user-attachments/assets/1a0da6d7-104c-4c11-9ba4-dda9d764fb3a)  
![image](https://github.com/user-attachments/assets/649d3740-1fee-493a-84d2-25c5606ea620)

---

## 개발 일정 (계획 8주)

| 주차   | 기간            | 개발 내용 |
|--------|-----------------|-----------|
| **1주차** | 4/8 ~ 4/14      | - 터치 드래그 기반 캐릭터 이동 구현<br>- 기본 UI 틀 제작 (체력바, 경험치바 자리잡기) |
| **2주차** | 4/15 ~ 4/21    | - 적 다양화: 일반 적 3종 구현 (속도/체력 차별화)<br>- 시간이 지날수록 적 증가 시스템 구현 |
| **3주차** | 4/22 ~ 4/28    | - 자동 공격 시스템 구현<br>- 적 피격 및 제거 처리<br>- 체력/타이머 UI 작동 연동 |
| **4주차** | 4/29 ~ 5/5     | - 경험치 획득 및 레벨업 시스템 구현<br>- 업그레이드 UI 및 무작위 3종 선택 구현 |
| **5주차** | 5/6 ~ 5/12     | - 스탯 강화 시스템 구현 (이동속도, 공격력 등 5종 × 3단계)<br>- 스탯 확인 UI 구현 |
| **6주차** | 5/13 ~ 5/19    | - 공격 스킬 3종 구현<br>- 게임 오버 / 클리어 조건 처리<br>- 결과 화면 UI 구현 |
| **7주차** | 5/20 ~ 5/26    | - 보스 몬스터 1종 구현 (고유 체력, 등장 타이머 조건 등) |
| **8주차** | 5/27 ~ 6/2     | - 전체 플레이 테스트<br>- 버그 수정<br>- 최종 제출 준비 |

---

## 📢 3차 발표 내용 (README 확장)

### 📺 영상 링크

- 🔗 [2차 발표 영상 링크] https://youtu.be/uRwNpzdlLS0
- 🔗 [현재 README.md 링크][(https://github.com/your-repo-path/README.md)](https://github.com/min-pixel/2022180049--Smartphone-/edit/main/README.md)
- 🔗 [1차 발표 영상 링크](https://youtu.be/tXJAH6NHdLA)
- 🔗 [1차 README 링크]

---

### ✅ 기능별 진행 상황

| 기능 항목                              | 진행도 |
|--------------------------------------|--------|
| 터치 드래그 기반 캐릭터 이동           | ✅ 100% |
| 자동 공격 시스템                      | ✅ 100% |
| 적 생성 / 추적 / 제거                 | ✅ 100% |
| 일반 적 3종 구현                     | ✅ 100% |
| 시간이 지날수록 적 증가 시스템         | ✅ 100% |
| 경험치 획득 및 레벨업                 | ✅ 80%  |
| 스탯 업그레이드 시스템                | ✅ 100%   |
| 스탯 확인 UI                          | ✅ 100%   |
| 게임 타이머 UI                        | ✅ 100% |
| 체력/경험치바 UI                     | ✅ 100% |
| 결과 화면 구현 (클리어/오버)         | ✅ 100%   |
| 보스 몬스터 등장                     | ✅ 100%   |

---

### 실제 개발 일정 (10주)
| 주차   | 기간            | 개발 내용 |
|--------|-----------------|-----------|
| **1주차** | 4/8 ~ 4/14      | - 터치 드래그 기반 캐릭터 이동 구현 |
| **2주차** | 4/15 ~ 4/21    | - 기본 UI 틀 제작 (체력바, 경험치바 자리잡기) |
| **3주차** | 4/22 ~ 4/28    | - 적 다양화: 일반 적 3종 구현 (속도/체력 차별화)<br>- 시간이 지날수록 적 증가 시스템 구현 |
| **4주차** | 4/29 ~ 5/5     | - 자동 공격 시스템 구현<br>- 적 피격 및 제거 처리<br>- 체력/타이머 UI 작동 연동 |
| **5주차** | 5/6 ~ 5/12     | - 자동 공격 시스템 구현<br>- 적 피격 및 제거 처리<br>- 체력/타이머 UI 작동 연동 2 |
| **6주차** | 5/13 ~ 5/19    | - 스탯 강화 시스템 구현 (이동속도, 공격력 등 5종 × 3단계)<br>- 스탯 확인 UI 구현 |
| **7주차** | 5/20 ~ 5/26    | - 공격 스킬 3종 구현 |
| **8주차** | 5/27 ~ 6/2     | - 보스 몬스터 1종 구현 (고유 체력, 등장 타이머 조건 등) |
| **9주차** | 6/3 ~ 6/9     | - 보스 몬스터 1종 구현 (고유 체력, 등장 타이머 조건 등) 2|
| **10주차** | 6/10 ~ 6/16     | - 게임 오버 / 클리어 조건 처리<br>- 결과 화면 UI 구현 |

---
### 📊 주차별 커밋 수

> 아직 커밋 내역 없음

| 주차   | 커밋 수 |
|--------|---------|
| 1주차  | 0       |
| 2주차  | 0       |
| 3주차  | 0       |
| 4주차  | 0       |
| 5주차  | 0       |
| 6주차  | 1       |
| 7주차  | 0       |
| 8주차  | 6       |
| 9주차  | 1       |
| 10주차  | 2       |

![image](https://github.com/user-attachments/assets/67c6b207-1e7d-4bf5-aff8-ae9a92f5d52e)


---

### 🧱 MainScene 주요 오브젝트 설명

#### 🎮 Player
- 이동, 애니메이션, 자동 발사, 체력 및 경험치 보유
- `updateFire()`로 자동 공격, `decreaseLife()`로 피해 처리
- **상호작용:** JoyStick 입력을 통해 이동, Enemy와 충돌 시 체력 감소, Bullet 발사
- **핵심 코드:**  
  - `update()` – 조이스틱 기반 이동 + 스크롤 요청  
  - `updateFire()` – 가장 가까운 적에게 자동 공격  
  - `decreaseLife()` – 체력 감소 및 사망 처리
  ![player](https://github.com/user-attachments/assets/39185b17-9c81-4cb5-aae9-db14fe180e09)


#### 👾 Enemy
- 적 타입(GREEN / RED / BLACK) 별로 이동 속도와 체력이 다름
- 일정 간격마다 생성되며, 플레이어를 추적
- **상호작용:** Bullet과 충돌 시 피격, Player와 충돌 시 체력 감소
- **핵심 코드:**  
  - `update()` – 플레이어 방향 추적 및 이동  
  - `decreaseLife()` – 체력 감소 및 사망 여부 판단

<div align="center">
  
![enemy_01](https://github.com/user-attachments/assets/2e5e480c-f6db-41ba-b904-0b4d2cf0c871)  
![enemy_02](https://github.com/user-attachments/assets/3aab70ae-c7b6-4099-91b6-824cf7de378b)  
![enemy_03](https://github.com/user-attachments/assets/93ba7dc9-fa72-4bd0-ac0b-1e84efc2f0fd)

</div>

| 타입  | 색상   | 이동 속도 (`speed`) | 체력 (`maxLife`) | 특징          |
|--------|--------|---------------------|------------------|-----------------|
| GREEN  | 초록   | 150f (가장 빠름)    | 30               | 다수 등장, 약함 |
| RED    | 빨강   | 100f (중간 속도)    | 50               | 균형형         |
| BLACK  | 검정   |  70f (가장 느림)    | 70               | 느리지만 튼튼함 |


#### 💥 Bullet
- 자동 조준 발사 탄환
- 가장 가까운 적 탐지 후 궤도 조정
- **상호작용:** Enemy와 충돌 시 피해를 입힘, 화면 밖으로 나가면 제거됨
- **핵심 코드:**  
  - `findClosestEnemyOnScreen()` – 발사 방향 결정  
  - `update()` – 이동 및 화면 밖 처리  
  ![bullet_01](https://github.com/user-attachments/assets/a33fd17f-1e26-46e0-bac9-9c427cec9a69)


#### 🔄 EnemyGenerator
- 3초마다 적 생성
- 시간이 지날수록 적 수 증가, 타입 변화
- **상호작용:** Player 기준 좌표 주변에 적을 배치함
- **핵심 코드:**  
  - `generate()` – 시간 경과에 따라 적 수 및 타입 결정  
  - `update()` – 적 생성 타이머 갱신


#### 🧠 CollisionChecker
- 적과 총알, 적과 플레이어 충돌 처리
- **상호작용:** Enemy vs Bullet / Enemy vs Player 충돌 감지 및 제거 처리
- **핵심 코드:**  
  - `update()` – 충돌 판정 및 체력 감소, 사망 처리


#### 🗺️ FollowScrollBackground
- 고정형 맵 크기: 7200 × 12800  
- 스크롤링 처리 (플레이어 중심)
- **상호작용:** Player로부터 스크롤 요청을 받아 배경을 이동시킴
- **핵심 코드:**  
  - `requestScrollX/Y()` – 외부에서 스크롤 요청  
  - `update()` – 현재 스크롤 좌표 갱신  
  - `draw()` – 맵과 테두리 렌더링
![background](https://github.com/user-attachments/assets/e1b3d0ef-68c0-41c6-85b3-deba4b3431f7)


#### ⏱ GameTimer / 📊 ExpBar
- HUD에 경과 시간과 경험치 게이지 출력
- **상호작용:**  
  - GameTimer는 EnemyGenerator의 시간 기준으로 사용됨  
  - ExpBar는 Player의 경험치 상태를 참조
- **핵심 코드:**  
  - `GameTimer.getElapsedTime()` – 현재 시간 반환  
  - `ExpBar.draw()` – 게이지 길이 = `Player.getExpRatio()`


#### 관통 스킬
- 여러 적을 **관통**하는 스킬
- 단, **같은 적을 두 번 이상 타격하지 않도록 중복 충돌 방지 처리**
- **상호작용:** 여러 Enemy를 순차적으로 타격하되, 한 적은 한 번만 데미지를 받음  
- **핵심 코드:**  
  - `Bullet.update()` – 충돌한 적을 기록하고 중복 데미지 방지  
  - `bullet.alreadyHit(enemy)` – 이미 맞은 적은 무시


#### 광역 스킬
- 짧은 시간 동안 보여지는 **범위형 이펙트 스킬**
- 탄환이 범위 내 적들에게 데미지를 입힘
- **상호작용:** 효과 범위 안에 있는 모든 Enemy에게 단일 타격 적용  
- **핵심 코드:**  
  - `AoeEffect.update()` – 프레임 애니메이션 처리 및 `hasDamaged` 조건 확인  
  - 적 탐색 후 `CollisionHelper.collides(this, enemy)`로 충돌 감지  
  - 충돌한 적에게 `enemy.decreaseLife(getDamage())` 호출
  ![aoef](https://github.com/user-attachments/assets/b6579fea-2ef4-4037-90d7-a1cc005aba7c)


#### 대쉬 스킬
- 플레이어가 **조이스틱 방향으로 빠르게 돌진**하며 **데미지를 무시하는 스킬**
- 일정 시간 동안 시각적 이펙트와 함께 무적 상태 
- **상호작용:** 돌진 경로에 Enemy가 있어도 데미지를 입지 않음
- **핵심 코드:**  
  - `MainScene`에서 `Player`와 `JoyStick` 연동
![dash](https://github.com/user-attachments/assets/9fbcd0f0-46ac-40e2-80b4-19d54a2369c7)


#### 업그레이드 선택 기능
- 레벨업 시 무작위 3개 중 1개를 선택하는 시스템
- 선택된 업그레이드는 스킬 추가 또는 스탯 강화로 연결됨
- 상호작용: Player가 경험치를 통해 레벨업하면 업그레이드 UI 등장 → 터치로 1개 선택
- **핵심 코드:**
  - applyUpgrade() - 업그레이드 처리
  - PauseScene	게임 일시정지 및 업그레이드 선택 화면 표시
  - UpgradeButton	업그레이드 항목 하나를 UI 버튼으로 표현


 #### 보스 몬스터
- 일정 시간이 지나면 등장하는 강력한 적 유닛
- 일반 몬스터와는 다른 전용 AI 및 체력/크기/공격 기술을 가짐
- 상호작용: 보스는 다른 적과 충돌 시, 그 적을 제거하고 자신의 체력을 회복
            플레이어와 충돌 시 데미지를 입힘
- **핵심 코드:**
  - BossEnemy.java – Enemy를 상속받아 보스 전용 속성 정의
  - CollisionChecker.java – 보스와 적 몬스터 충돌 시, getType() == BOSS 조건으로 흡수 처리
  - useSpecialSkill() - 보스의 돌진 공격 정의
![boss](https://github.com/user-attachments/assets/4821419b-18a3-4c08-9376-17e7656dca85)


#### 수업에서 차용한 것
수업에서 제작한 프레임워크 구조 활용
(Scene 구조, GameObject 인터페이스, GameView, JoyStick, Gauge 등)

#### 아쉬운 점
 - 대쉬 스킬의 조작감이 만족스럽지 않아 보완하고 싶었지만, 시간 관계상 마무리하지 못함
 - 게임에 사운드 효과와 배경음악을 추가하고 싶었지만 구현하지 못함

#### 수업에 대한 소감
 - 객체 간 충돌 처리, 씬 전환, UI 구성 등 실제 게임 구조를 체계적으로 학습한 점이 유익했음

---


 

